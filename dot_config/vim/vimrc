let s:config_home = exists('$XDG_CONFIG_HOME') ? $XDG_CONFIG_HOME : expand('~/.config')
let s:state_home = exists('$XDG_STATE_HOME') ? $XDG_STATE_HOME : expand('~/.local/state')

call system('mkdir -p ' . shellescape(s:state_home . '/vim/swap'))
call system('mkdir -p ' . shellescape(s:state_home . '/vim/undo'))

execute 'set viminfo+=n' . fnameescape(s:config_home . '/vim/viminfo')
execute 'set directory=' . fnameescape(s:state_home . '/vim/swap')
execute 'set undodir=' . fnameescape(s:state_home . '/vim/undo')

execute 'source ' . fnameescape(s:config_home . '/vim/option.vim')
